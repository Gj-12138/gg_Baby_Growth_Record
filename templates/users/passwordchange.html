{% extends 'base/base.html' %}

{% block title %}
    修改密码
{% endblock %}

{% block body %}
        <div style="width: 600px">
        <h3>修改密码</h3>
        <form action="" method="post">
            {% csrf_token %}
             {{ form }}

            <button type="submit">修改密码</button>
            <a href="{% url 'main:index' %}"><button type="button">返回首页</button></a>

        </form>
        {% if login_form.errors %}
          <script>
            // 将错误文本合并成一句
            const errList = [
              {% for field, errs in login_form.errors.items %}
                {% for e in errs %}
                  "{{ e|escapejs }}",
                {% endfor %}
              {% endfor %}
            ];
            alert("提交失败！\n" + errList.join("\n"));
          </script>
        {% endif %}
    </div>
{% endblock %}